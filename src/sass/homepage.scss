@import 'variables';
@import 'global';

main {
	section {
		--heading-accent-color: var(--indigo-2);
		padding: var(--size-6);
		background-color: var(--indigo-0);
		&:nth-child(odd) {
			--heading-accent-color: var(--indigo-3);
			background-color: var(--indigo-1);
		}
	}

	h2 {
		font-size: var(--font-size-fluid-2);
		font-weight: var(--font-weight-9);
		color: var(--gray-9);
		max-width: fit-content;
		margin-block-start: var(--size-4);
		margin-block-end: var(--size-6);
		margin-inline: auto;

		&::after {
			border-block-end: 1px solid var(--heading-accent-color);
			content: '';
			display: block;
			margin-inline-start: 12.5%;
			width: 75%;
		}
	}
}

.stream-grid {
	display: grid;
	grid-template-columns: 1fr 1fr;
	// max-width: 60ch;
	width: 90%;
	margin-block-start: var(--size-9);
	margin-inline: auto;
	column-gap: var(--size-10);

	&.upcoming-streams {
		[data-card] {
			grid-column: 2;
			width: 100%;
		}
	
		[data-card="featured"] {
			grid-column: 1;
			grid-row-start: 1;
			grid-row-end: 3;
			height: fit-content;
		}

		[data-card]:not([data-card="featured"]) {
			height: fit-content;
			position: relative;

			&::after {
				content: '';
				position: absolute;
				background-color: var(--violet-2);
				aspect-ratio: 1 / 1;
				border-radius: 0 0 0 100%;
				width: var(--size-10);
				top: 0;
				right: 0;
				pointer-events: none;
			}

			& img {
				z-index: var(--layer-1);
				width: var(--size-10);
				right: var(--size-4);
				box-shadow: var(--shadow-2);
			}

			& + [data-card] {
				margin-block-start: calc(-1 * var(--size-2));
			}
		}
	}
	
	
	[data-card]:not([data-card="featured"]) {
		& > div {
			margin-inline-end: calc(0.5 * var(--size-11));
		}

		a {
			margin-inline-end: var(--size-2);
		}

		img {
			position: absolute;
			right: calc(-0.5 * var(--size-11));
		}
	}

	@media screen and (max-width: 120ch) {
		display: flex;
		flex-direction: column;
		gap: var(--size-8);
	}

	&.past-streams {
		row-gap: var(--size-4);
	}
}

.past-streams {
	// place-items: center;
	grid-template-rows: masonry;
	margin-block-start: var(--size-4);

	& [data-card] {
		width: 90%;
	}
}

.cta-container {
	display: grid;
	place-items: center;
	margin-top: var(--size-6);
}

section .cta {
	@include focus-outline($purple-5);
}

#headshot {
	border-radius: var(--radius-round);
	width: var(--size-12);
}

#bio {
	border-inline-start: 1px solid var(--heading-accent-color);
	padding-inline-start: var(--size-5);
	padding-block: calc(var(--size-2) * 2);
	height: 100%;

	& > a {
		@include inline-text-link;
	}
}

.halfsies {
	display: flex;
	flex-direction: row;
	gap: var(--size-5);
	align-items: center;
	max-width: 80ch;
	margin-inline: auto;

	@media screen and (max-width: 615px) {
		flex-direction: column;

		#bio {
			border-inline-start: 0;
		}
	}
}

#h-ben {
	margin-block-end: 0;
}